[
  {
    "Id": "273171",
    "ThreadId": "79757",
    "Html": "<p>I am now running naudio-35666 and I'm mixing two streams this way:</p>\r\n<p>&nbsp;</p>\r\n<div style=\"color:Black;background-color:White\">\r\n<pre>      <span style=\"color:Blue\">var</span> intro = <span style=\"color:Blue\">new</span> WaveChannel32(<span style=\"color:Blue\">new</span> WaveFileReader(<span style=\"color:#A31515\">&quot;Intro.wav&quot;</span>));\r\n      intro.PadWithZeroes = <span style=\"color:Blue\">false</span>;\r\n\r\n      <span style=\"color:Blue\">var</span> audio = <span style=\"color:Blue\">new</span> WaveChannel32(<span style=\"color:Blue\">new</span> WaveFileReader(<span style=\"color:#A31515\">&quot;in.wav&quot;</span>));\r\n      audio.PadWithZeroes = <span style=\"color:Blue\">false</span>;\r\n\r\n      <span style=\"color:Blue\">var</span> mixer = <span style=\"color:Blue\">new</span> WaveMixerStream32();\r\n\r\n      mixer.AutoStop = <span style=\"color:Blue\">true</span>;\r\n      mixer.AddInputStream(intro);\r\n      mixer.AddInputStream(audio);\r\n\r\n      WaveFileWriter.CreateWaveFile(<span style=\"color:#A31515\">&quot;out.wav&quot;</span>, mixer);\r\n</pre>\r\n</div>\r\n<p>When creating the out.wav I get the assertion error:</p>\r\n<p style=\"padding-left:30px\">A mixer input did not provide the requested amount of data</p>\r\n<p style=\"padding-left:30px\">at WaveMixerStream32.Read(byte[] buffer, int offset, int count) ...NAudio\\Wave\\WaveStreams\\WaveMixerStream32.cs(155)</p>\r\n<p>If I ignore the assertion, the out.wav file looks just fine.</p>\r\n<p>Intro looks like this on the debugger:</p>\r\n<p>&nbsp;</p>\r\n<pre>intro\t{NAudio.Wave.WaveChannel32}\tNAudio.Wave.WaveChannel32\r\n+\t\tbase\t{NAudio.Wave.WaveChannel32}\tNAudio.Wave.WaveStream {NAudio.Wave.WaveChannel32}\r\n\t\tBlock\tnull\tSystem.EventHandler\r\n\t\tBlockAlign\t8\tint\r\n\t\tdestBytesPerSample\t8\tint\r\n\t\tLength\t4178064\tlong\r\n\t\tlength\t4178064\tlong\r\n\t\tPadWithZeroes\tfalse\tbool\r\n\t\tpan\t0.0\tfloat\r\n\t\tPan\t0.0\tfloat\r\n\t\tPosition\t257369872\tlong\r\n\t\tposition\t257369872\tlong\r\n\t\tSample\tnull\tSystem.EventHandler\r\n+\t\tsampleEventArgs\t{NAudio.Wave.SampleEventArgs}\tNAudio.Wave.SampleEventArgs\r\n+\t\tsourceBuffer\t{byte[352800]}\tbyte[]\r\n\t\tsourceBytesPerSample\t2\tint\r\n+\t\tsourceStream\t{NAudio.Wave.WaveFileReader}\tNAudio.Wave.WaveStream {NAudio.Wave.WaveFileReader}\r\n\t\tVolume\t1.0\tfloat\r\n\t\tvolume\t1.0\tfloat\r\n+\t\tWaveFormat\t{IeeeFloat}\tNAudio.Wave.WaveFormat\r\n+\t\twaveFormat\t{IeeeFloat}\tNAudio.Wave.WaveFormat</pre>\r\n<p>&nbsp;</p>\r\n<p>and audio looks like this:</p>\r\n<p>&nbsp;</p>\r\n<pre>audio\t{NAudio.Wave.WaveChannel32}\tNAudio.Wave.WaveChannel32\r\n+\t\tbase\t{NAudio.Wave.WaveChannel32}\tNAudio.Wave.WaveStream {NAudio.Wave.WaveChannel32}\r\n\t\tBlock\tnull\tSystem.EventHandler\r\n\t\tBlockAlign\t8\tint\r\n\t\tdestBytesPerSample\t8\tint\r\n\t\tLength\t257425408\tlong\r\n\t\tlength\t257425408\tlong\r\n\t\tPadWithZeroes\tfalse\tbool\r\n\t\tpan\t0.0\tfloat\r\n\t\tPan\t0.0\tfloat\r\n\t\tPosition\t257425408\tlong\r\n\t\tposition\t257425408\tlong\r\n\t\tSample\tnull\tSystem.EventHandler\r\n+\t\tsampleEventArgs\t{NAudio.Wave.SampleEventArgs}\tNAudio.Wave.SampleEventArgs\r\n+\t\tsourceBuffer\t{byte[352800]}\tbyte[]\r\n\t\tsourceBytesPerSample\t2\tint\r\n+\t\tsourceStream\t{NAudio.Wave.WaveFileReader}\tNAudio.Wave.WaveStream {NAudio.Wave.WaveFileReader}\r\n\t\tVolume\t1.0\tfloat\r\n\t\tvolume\t1.0\tfloat\r\n+\t\tWaveFormat\t{IeeeFloat}\tNAudio.Wave.WaveFormat\r\n+\t\twaveFormat\t{IeeeFloat}\tNAudio.Wave.WaveFormat\r\n\r\n</pre>\r\n<p>I've added some debugging output to NAudio so I know it expected 1411200 but got 1355664.</p>\r\n<p>Am I doing something wrong?</p>\r\n<p>&nbsp;</p>",
    "PostedDate": "2010-01-04T22:03:08.197-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "273230",
    "ThreadId": "79757",
    "Html": "<p>yes, this assert should be safe to ignore. its because pad with zeroes is false (the mixer stream was originally written to expect all its inputs to always return the exact number of bytes requested).</p>\r\n<p>I'll look into removing this assert in a future version</p>\r\n<p>Mark</p>",
    "PostedDate": "2010-01-05T02:35:32.883-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]