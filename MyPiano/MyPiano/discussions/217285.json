[
  {
    "Id": "459809",
    "ThreadId": "217285",
    "Html": "Hi,\r\n\r\nI may just be a bit dim, so i thought i would post in here to make sure im not just wasting memory...\r\n<br>\r\nCurrently when i load an MP3 file i have to do the following:\r\n<br><br>\r\n<blockquote style=\"border:solid .1em #ccc;font-style:italic;margin:.25em 1em 0 1em;padding:0 .25em 0 .25em\">\r\nprivate void ProcessStream(FileStream musicStream)\r\n        {\r\n            m_MediaStream = CreateMediaStream(musicStream);\r\n            m_ConvertedStream = WaveFormatConversionStream.CreatePcmStream(m_MediaStream);\r\n            m_BlockAlignedStream = new BlockAlignReductionStream(m_ConvertedStream);\r\n            m_LoopedStream = new LoopedStream(m_BlockAlignedStream);\r\n            m_Channel = new WaveChannel32(m_LoopedStream);\r\n\r\n            m_WaveOut = new WaveOut(WaveCallbackInfo.FunctionCallback());\r\n            m_WaveOut.Init(m_Channel);\r\n\r\n            m_WaveOut.Volume = 1.0f;\r\n            m_Channel.Volume = Volume;\r\n        }\r\n\r\n        private WaveStream CreateMediaStream(FileStream fileStream)\r\n        {\r\n            var fileExtension = Path.GetExtension(fileStream.Name).ToLower();\r\n\r\n            switch (fileExtension)\r\n            {\r\n                case &quot;.mp3&quot;: { return new Mp3FileReader(fileStream.Name); }\r\n                case &quot;.wav&quot;: { return new WaveFileReader(fileStream.Name); }\r\n                default: { throw new Exception(&quot;Unsupported file&quot;); }\r\n            }\r\n        }\r\n</blockquote>\r\n<br>\r\n\r\nNow each one of those members is a stream in itself, so when i want to dispose i have to call dispose on all those streams, then recreate them again... originally i was just using the using() pattern around them up until the channel was created then just leaving the channel and waveout, however if i dispose any one of those streams it throws an exception when I play or do any action on the waveout. So im assuming that they are built up through composition or something so each one just wraps the previous, is this right? and if so is there any way to get round it...\r\n\r\nWOW THIS EDITOR IS ABSOLUTE RUBBISH...",
    "PostedDate": "2010-06-24T23:27:35.15-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]